<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Meme Forum!</title>
    
     <link rel="stylesheet" href="main.css" />
     <link href="https://fonts.googleapis.com/css?family=Lora" rel="stylesheet"> 
     
</head>
<body>
    <h1>Welcome to the Meme Forum!</h1>
    
    <script src="main.js">  </script>

    <div class="userTag">  
        <script>
                
            //Carlos: testing with a hard coded cookie
            //document.cookie = "username = Carlos"; 
            var name = getCookie("username");
        
            document.write("<h3>User: ", name,"</h3>");
        
        </script>
   </div>   
    
<div class="grid">
            
        <div class="userOptions-group">
          <button class="button" onclick="location.href='login.php'">Login</button>
          <button class="button" onclick="location.href='logout.php'">Logout</button>    
            <br><br><br><br>
          <button class="button" >Filter</button>
          <button class="button" >Randomize</button>
          <br><br><br><br>
           
            <form>
                <button class="button" onclick="location.href='text.html'">Text post</button>
                <button class="button" onclick="location.href='upload.html'">Photo post</button>
            </form>

            <ul></ul>
            
            <button class="button" id="clearAll" >Clear All</button>
            
        </div>
    </div>

<script>
const form = document.querySelector('form');
const ul = document.querySelector('ul');
const button = document.querySelector('button');
const input = document.getElementById('post');
let itemsArray = localStorage.getItem('items') ? JSON.parse(localStorage.getItem('items')) : [];

localStorage.setItem('items', JSON.stringify(itemsArray));
const data = JSON.parse(localStorage.getItem('items'));

const liMaker = (text) => {
  const li = document.createElement('li');
  li.textContent = text;
  ul.appendChild(li);
}

form.addEventListener('submit', function (e) {
  e.preventDefault();

  itemsArray.push(input.value);
  localStorage.setItem('items', JSON.stringify(itemsArray));
  liMaker(input.value);
  input.value = "";
});

data.forEach(item => {
  liMaker(item);
});

document.getElementById("clearAll").addEventListener('click', function () {
  localStorage.clear();
  while (ul.firstChild) {
    ul.removeChild(ul.firstChild);
  }
});
    
    </script>
</body>


</html>
